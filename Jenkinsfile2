pipeline {
    agent any
    parameters {
        string(name: 'REPO_NAME', defaultValue: '', description: 'Name of the project')
    }
    environment {
        BASE_DIR = "/home/unitekserver/projects/web-projects"
    }
    stages {
        stage('Add XAMPP VirtualHost') {
            steps {
                script {
                    if (!params.REPO_NAME) {
                        error "‚ùå REPO_NAME not provided."
                    }
                    echo "üîπ Adding XAMPP VirtualHost for ${params.REPO_NAME}"
                    sh "bash $BASE_DIR/bash/add-xampp-vhost.sh ${params.REPO_NAME}"
                }
            }
        }
    }
}
