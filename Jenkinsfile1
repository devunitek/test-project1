pipeline {
    agent any
    environment {
        BASE_DIR = "/home/unitekserver/projects/web-projects"
    }
    stages {
        stage('Deploy Project') {
            steps {
                script {
                    echo "üîπ Deploying project..."
                    // Run deployment script
                    sh "bash $BASE_DIR/bash/deployment.sh $GIT_URL"
                }
            }
        }
    }
    post {
        success {
            echo "‚úÖ Deployment succeeded: ${env.REPO_NAME}"
            // Trigger Pipeline 2 automatically
            build job: 'add-xampp-vhost'
        }
        failure {
            echo "‚ùå Deployment failed ‚Üí add-xampp-vhost will not run."
        }
    }
}
